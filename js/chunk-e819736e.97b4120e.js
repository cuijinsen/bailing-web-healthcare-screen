(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e819736e"],{"1bda":function(t,e,n){const i=n("7b85");e.option={title:"孕前优生检查年度可视化看板",subtitle:" ",layout:[{style:{width:"1300",height:"950"},content:[{height:"660",title:"孕前优生累计检查人数",type:"baseMapChart",option:{}},{height:"290",title:"月度检查情况",type:"configurableChart",option:{xUnit:"单位：家",axisData:["公立医院","民营医院"],chartOption:{legend:{icon:"rect",itemWidth:20,itemHeight:10},series:[{itemStyle:{normal:{color:new i.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#30FFEC"},{offset:1,color:"#1BD3C9"}],!1)}}},{itemStyle:{normal:{color:new i.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#FFB93D"},{offset:1,color:"#FFA169"}],!1)}}}]},transverse:!1,data:[{name:"0~99",stack:"total",data:[],color:"#2391FF"},{name:"100~299",stack:"total",data:[],color:"#5AD8A6"}]}}],columnsHeight:["660","290"],columnsWidth:[],columnsTitle:["孕前优生累计检查人数","月度检查情况"],columnsType:["baseMapChart","configurableChart"]},{style:{width:"550",height:"950"},content:[{height:"289",title:"评估风险情况",type:"custom",custom:"rightOne",option:{}},{height:"289",title:"风险疾病前五排行",type:"custom",custom:"rightTwo",titleBtnList:[{label:"男性",value:1},{label:"女性",value:2}],titleActiveBtn:1,option:{}},{height:"289",title:"风险人数占比",type:"custom",custom:"rightThree",option:{}}],columnsHeight:["289","289","289"],columnsWidth:[],columnsTitle:["评估风险情况","风险疾病前五排行","风险人数占比"],columnsType:["custom","custom","custom"]}],pageWidth:1920,pageHeight:1080};const r={xUnit:"单位：万人",data:[{name:"产妇总数",color:"#5AD8A6",data:[0,1,3,4,5,7,10]},{name:"新生儿总数",color:"#FFC328",data:[2,3,4,5,6,8,8]}],xData:["1992","1997","2002","2007","2012","2017","2022"]},a={title:"孕产妇死亡率",xUnit:"单位：1/10万",xData:[1,2,3,4,5,6],data:[1,2,2,1,4,4]},o={data:[{value:10,name:"疾病"},{value:5,name:"疾病1"},{value:5,name:"疾病2"}]},s=[{icon:"",title:"本年度新生儿总数",value:"631150"},{icon:"",title:"本年度新生儿性别比",value:"1.02"},{icon:"",title:"本年度新生儿出生率",value:"7.24",unit:"‰"},{icon:"",title:"本年度人口自然增长率",value:"0.24",unit:"‰"}],c={height:400,headData:[{label:"排名",column:"index",width:"0.6"},{label:"疾病名称",column:"DPTYPE"},{label:"患病人数",column:"HBRS",type:"number",color:"#87F7C7"},{label:"患病率",column:"HBL",type:"number",color:"#87F7C7"},{label:"控制不稳定人数",column:"KZBWD",type:"number",color:"#87F7C7"},{label:"占比",column:"ZB",type:"number",color:"#87F7C7"}],tableList:[{DPTYPE:"疾病名称",HBRS:"100",HBL:"100",KZBWD:"100",ZB:"100"}]},l={chartOption:{grid:{right:"13%"},legend:{right:"27%",top:"1%"}},xData:[1,2,3,4],yUnit:["检出量（件）","检出率（1/10万）"],data:{bar:[{yAxisIndex:0,name:"检出量",data:[1,2,3,4],color:"#5AD8A6"},{yAxisIndex:0,name:"检出率",data:[2,3,4,5],color:"#FFC328"}],line:[{yAxisIndex:1,name:"检出量",data:[1,2,3,4],color:"#5AD8A6"},{yAxisIndex:1,name:"检出率",data:[2,3,4,5],color:"#FFC328"}]}},u={xUnit:"单位：家",axisData:["公立医院","民营医院"],transverse:!1,data:[{name:"0~99",stack:"total",data:[320,302,301],color:"#2391FF"},{name:"100~299",stack:"total",data:[120,132,101],color:"#5AD8A6"}]};e.optionMap={baseLineChart:r,gradientLineChart:a,basePieChart:o,lineBarChart:l,statisticsShow:s,list:c,configurableChart:u,baseMapChart:{}}},4221:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var i=n("b775");function r(t){return Object(i["a"])({url:"/getPremarital.action",method:"get",data:t})}function a(t){return Object(i["a"])({url:"/getPregnancy.action",method:"get",data:t})}},"7b85":function(t,e,n){"use strict";n.r(e);var i=n("cf05");n.d(e,"version",(function(){return i["cb"]})),n.d(e,"dependencies",(function(){return i["l"]})),n.d(e,"PRIORITY",(function(){return i["g"]})),n.d(e,"init",(function(){return i["B"]})),n.d(e,"connect",(function(){return i["j"]})),n.d(e,"disConnect",(function(){return i["m"]})),n.d(e,"disconnect",(function(){return i["n"]})),n.d(e,"dispose",(function(){return i["o"]})),n.d(e,"getInstanceByDom",(function(){return i["w"]})),n.d(e,"getInstanceById",(function(){return i["x"]})),n.d(e,"registerTheme",(function(){return i["R"]})),n.d(e,"registerPreprocessor",(function(){return i["P"]})),n.d(e,"registerProcessor",(function(){return i["Q"]})),n.d(e,"registerPostInit",(function(){return i["N"]})),n.d(e,"registerPostUpdate",(function(){return i["O"]})),n.d(e,"registerUpdateLifecycle",(function(){return i["T"]})),n.d(e,"registerAction",(function(){return i["H"]})),n.d(e,"registerCoordinateSystem",(function(){return i["I"]})),n.d(e,"getCoordinateSystemDimensions",(function(){return i["v"]})),n.d(e,"registerLocale",(function(){return i["L"]})),n.d(e,"registerLayout",(function(){return i["J"]})),n.d(e,"registerVisual",(function(){return i["U"]})),n.d(e,"registerLoading",(function(){return i["K"]})),n.d(e,"setCanvasCreator",(function(){return i["V"]})),n.d(e,"registerMap",(function(){return i["M"]})),n.d(e,"getMap",(function(){return i["y"]})),n.d(e,"registerTransform",(function(){return i["S"]})),n.d(e,"dataTool",(function(){return i["k"]})),n.d(e,"zrender",(function(){return i["eb"]})),n.d(e,"matrix",(function(){return i["D"]})),n.d(e,"vector",(function(){return i["bb"]})),n.d(e,"zrUtil",(function(){return i["db"]})),n.d(e,"color",(function(){return i["i"]})),n.d(e,"throttle",(function(){return i["X"]})),n.d(e,"helper",(function(){return i["A"]})),n.d(e,"use",(function(){return i["Z"]})),n.d(e,"setPlatformAPI",(function(){return i["W"]})),n.d(e,"parseGeoJSON",(function(){return i["F"]})),n.d(e,"parseGeoJson",(function(){return i["G"]})),n.d(e,"number",(function(){return i["E"]})),n.d(e,"time",(function(){return i["Y"]})),n.d(e,"graphic",(function(){return i["z"]})),n.d(e,"format",(function(){return i["u"]})),n.d(e,"util",(function(){return i["ab"]})),n.d(e,"env",(function(){return i["p"]})),n.d(e,"List",(function(){return i["e"]})),n.d(e,"Model",(function(){return i["f"]})),n.d(e,"Axis",(function(){return i["a"]})),n.d(e,"ComponentModel",(function(){return i["c"]})),n.d(e,"ComponentView",(function(){return i["d"]})),n.d(e,"SeriesModel",(function(){return i["h"]})),n.d(e,"ChartView",(function(){return i["b"]})),n.d(e,"innerDrawElementOnCanvas",(function(){return i["C"]})),n.d(e,"extendComponentModel",(function(){return i["r"]})),n.d(e,"extendComponentView",(function(){return i["s"]})),n.d(e,"extendSeriesModel",(function(){return i["t"]})),n.d(e,"extendChartView",(function(){return i["q"]}))},"8a31":function(t,e,n){"use strict";var i=n("da99"),r=n.n(i);r.a},b468:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page",{attrs:{"template-source":t.option},on:{titleBtnClick:t.titleBtnClick,mapClick:t.mapClick},scopedSlots:t._u([{key:"rightOne",fn:function(){return[n("loudou",{attrs:{option:t.options}})]},proxy:!0},{key:"rightTwo",fn:function(){return[n("progessTwo",{attrs:{"rank-data":t.rightbotTwo}})]},proxy:!0},{key:"rightThree",fn:function(){return[n("progess",{attrs:{option:t.optionTwo}})]},proxy:!0}])})},r=[],a=(n("4cae"),n("a771")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("chart-view",{attrs:{"chart-option":t.chartOption,"auto-resize":!0,"play-highlight":!1,height:" 100%"}})},s=[],c={props:{option:{}},data(){return{chartOption:{color:["#59FFFC","#2494FF","#E287FF"],series:[{type:"funnel",sort:"ascending",width:"60%",top:"5%",left:"5%",label:{normal:{color:"#eee",formatter:function(t){return t.name+" "+t.value+" "+t.percent+"%"},position:"right"},emphasis:{textStyle:{fontSize:14}}},labelLine:{length:20,lineStyle:{width:1,type:"solid"}},data:this.option}]},colorList:[]}},watch:{},mounted(){},methods:{}},l=c,u=n("8cf1"),h=Object(u["a"])(l,o,s,!1,null,null,null),d=h.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("new-chart-view",{ref:"newCharts",attrs:{"chart-option":t.chartOption,"auto-resize":!0,"play-highlight":!1,height:" 100%"}})},m=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"chart",style:{height:t.height,width:t.width}})},g=[],y=n("d42c"),b=n("281e"),C=n("f736"),x=n("99fb"),w=n("2435"),v=n("aead"),O=n("8808");y["a"]([x["a"],w["a"],v["a"],C["a"],O["a"]]);var D={name:"NewChartView",props:{width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartOption:{type:Object,required:!0},type:{type:String,default:"canvas"},playHighlight:{type:Boolean,default:!1}},data(){return{chart:null,actionTimer:"",currentIndex:-1}},watch:{},mounted(){this.initChart(),this.autoResize&&window.addEventListener("resize",this.resizeHandler)},beforeDestroy(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.resizeHandler),this.chart.dispose(),this.chart=null,clearInterval(this.actionTimer),this.actionTimer=null)},methods:{resizeHandler(){this.chart.resize()},scrollCheck(t){this.chart.setOption(t)},initChart(){this.chart=b["l"](this.$refs.chart,"",{renderer:this.type}),this.chart.setOption(this.chartOption),this.chart.on("click",this.handleClick),this.playHighlight&&this.playHighlightAction()},setOptions(t){this.clearChart(),this.resizeHandler(),this.chart&&this.chart.setOption(t)},refresh(){this.setOptions(this.chartOption)},clearChart(){this.chart&&this.chart.clear()},playHighlightAction(){this.actionTimer=setInterval(()=>{const t=this.chartOption.series[0].data.length;this.chart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:this.currentIndex}),this.currentIndex=(this.currentIndex+1)%t,this.chart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:this.currentIndex}),this.chart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:this.currentIndex})},1e3)}}},T=D,B=Object(u["a"])(T,f,g,!1,null,"b7500916",null),F=B.exports;const A=n("7b85");var k=[70,34,60,78,69,50,70,34,60,78,69,50],I={props:{option:{}},components:{NewChartView:F},watch:{option:{handler(t){this.setChartOption(t)},deep:!0}},data(){return{chartOption:{xAxis:{show:!1},dataZoom:[{yAxisIndex:0,show:!1,type:"slider",startValue:0,endValue:5}],grid:{left:"15%",top:"5%",bottom:0},yAxis:[{show:!0,data:[],inverse:!0,axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#fff"}}],series:[{name:"框",type:"bar",yAxisIndex:0,barGap:"-90%",data:[100,100,100,100,100,100,100,100,100,100,100,100],barWidth:20,itemStyle:{normal:{color:"none",borderColor:"#3751A1",borderWidth:3,barBorderRadius:15}},label:{normal:{show:!0,position:"right",formatter:function(t){return k[t.dataIndex]}},emphasis:{textStyle:{fontSize:20}}}},{name:"条",type:"bar",yAxisIndex:0,data:k,barWidth:15,itemStyle:{normal:{barBorderRadius:15,color:new A.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#05E0FF"},{offset:.5,color:"#7283FF"},{offset:1,color:"#AF42B6"}])}}}]},colorList:[]}},mounted(){this.$nextTick(()=>{let t=this;setInterval((function(){t.chartOption.dataZoom[0].endValue==t.option.values.length?(t.chartOption.dataZoom[0].endValue=4,t.chartOption.dataZoom[0].startValue=0):(t.chartOption.dataZoom[0].endValue=t.chartOption.dataZoom[0].endValue+1,t.chartOption.dataZoom[0].startValue=t.chartOption.dataZoom[0].startValue+1),t.$refs.newCharts.scrollCheck(t.chartOption)}),2e3)})},methods:{setChartOption(t){this.chartOption.yAxis[0].data=t.names,this.chartOption.series[1].data=t.values,this.chartOption.series[0].label.normal.formatter=function(e){return t.values[e.dataIndex]}}}},S=I,L=Object(u["a"])(S,p,m,!1,null,null,null),_=L.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rightbot"},[n("div",{staticClass:"rank"},t._l(t.BarData,(function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"text"},[n("div",[n("div",{staticClass:"img",class:[0==i?"golden":1==i?"grey":2==i?"crown":"blue"]},[t._v(" "+t._s(i+1)+" ")]),n("span",{style:t.getColor(i)},[t._v(t._s(e.name))])]),n("span",[t._v(t._s(e.num))])]),n("div",{staticClass:"out-bar"},[n("div",{staticClass:"inner-bar blueBar",style:t.getWidth(e.num)})])])})),0)])},H=[],V={data(){return{rankDataMax:0,BarData:[]}},props:{rankData:{type:Array,required:!0,default:()=>[]}},watch:{rankData:{handler(t){t.length>0&&this.rightBottom()},deep:!0,immediate:!0}},methods:{rightBottom(){this.BarData=JSON.parse(JSON.stringify(this.rankData)),this.BarData=this.BarData.sort((t,e)=>Number(e.num)-Number(t.num)),this.rankDataMax=this.BarData[0].num}},computed:{getWidth(){return t=>{let e=(100*Number(t)/Number(this.rankDataMax)).toFixed(2);return`width:${e}%`}},getColor(){return t=>t>2?"color:#07D1F9":"color:#F0CD5C"}}},M=V,P=(n("8a31"),Object(u["a"])(M,z,H,!1,null,"5005da98",null)),E=P.exports,Z=n("4221");const{option:$}=n("1bda");var W={components:{page:a["a"],loudou:d,progess:_,progessTwo:E},data(){return{cityCode:"3700",option:$,rightbotTwo:[],allDate:"",options:[],optionTwo:{names:[],values:[]},flag:!1}},mounted(){this.$nextTick(()=>{this.init()})},watch:{cityCode:{handler(){this.init()}}},methods:{init(){this.leftTwo()},mapClick(t){"370000"!==this.cityCode&&this.cityCode===t.cityCode?this.cityCode="370000":this.cityCode=t.cityCode,this.init()},titleBtnClick(t,e,n){console.log(`value:${t}; index:${e}; row:${n}`),this.option.layout[n].content[e].titleActiveBtn=t,1===e&&1===n&&this.rightTwo(t)},leftTwo(){Object(Z["a"])({orgcode:this.cityCode.slice(0,4)}).then(t=>{this.allDate=t;let e=[],n=[];this.allDate.leftBottom.map(t=>{let i=t.valueOne?t.valueOne:"0";e.push(i);let r=t.valueTwo?t.valueTwo:"0";n.push(r)}),this.option.layout[0].content[1].option.axisData=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],this.option.layout[0].content[1].option.data=[{name:"筛查人数",data:e},{name:"确诊人数",data:n}],this.allDate.rightTop.map(t=>{let e={name:t.name,value:t.value};this.options.push(e)});let i=[],r=[];this.allDate.rightBottom.map(t=>{i.push(t.name),r.push(t.value)}),this.optionTwo.names=i,this.optionTwo.values=r,this.flag=!0}).then(()=>{this.options=[]})},rightTwo(t){(1===t||2===t)&&(this.rightbotTwo=[])}}},j=W,N=Object(u["a"])(j,i,r,!1,null,null,null);e["default"]=N.exports},da99:function(t,e,n){}}]);